run:
  mode: normal  # 'normal' runs once; set to 'scenarios' to iterate over entries in run.scenario_file.
  output_subdir: test  # Optional subfolder under results/ for named runs (can also be passed via --run-subdir).
  scenario_file: scenarios.yaml  # YAML mapping scenario names → overrides when mode == 'scenarios'.

time_horizon:
  start: 2025
  end: 2100
  step: 1  # Emission reporting grid; FaIR extends beyond this when damage_duration_years demands longer horizons.

calc_emissions:
  countries:
    directory: data/calc_emissions/configs
    pattern: config_{name}.yaml
    aggregate_output_directory: results/emissions/All_countries
    aggregate_results_directory:
    resources_root: results/emissions
    demand_scenarios:
      - base_demand
      - scen1_lower
      - scen1_mean
      - scen1_upper
    mix_scenarios:
      - base_mix
      - WEM
      - WAM
    baseline_demand_case: base_demand

climate_module:
  output_directory: results/climate  # Directory for climate results (relative to repository root).
  resource_directory: results/climate  # Copy of temperature outputs used as shared resources across modules.
  sample_years_option: default  # 'default' (5-year steps to 2050, then 10-year) or 'full'.
  emission_timeseries_directory: results/emissions/All_countries  # Folder containing <scenario>/co2.csv (Mt CO₂/yr; output from calc_emissions aggregation).
  parameters:
    # Time grid inherits from time_horizon and stretches to cover the SCC damage window.
    # Emission adjustments are held fixed at their terminal value when extrapolating past the reporting horizon.
    climate_setup: ar6  # Options include 'ar6' (default three-layer) and 'two_box'.
    deep_ocean_efficacy: 1.28  # Plausible range 0.5–1.5 (higher slows deep-ocean uptake).
    forcing_4co2: 7.4  # W/m² for 4×CO₂; AR6 central estimate ≈7.2–7.4.
    equilibrium_climate_sensitivity: 3.0  # °C per CO₂ doubling; likely range 2.0–5.0.
    warming_reference_start_year: 1850  # Baseline reference window for anomalies.
    warming_reference_end_year: 1900
  fair:
    calibration:
      enabled: true
      base_path: data/FaIR_calibration_data/v1.5.0
      ensemble_file: calibrated_constrained_parameters.csv
      species_file: species_configs_properties.csv
      ch4_lifetime_file: CH4_lifetime.csv
      historical_emissions_file: historical_emissions_1750-2023_cmip7.csv
      solar_forcing_file: solar_forcing_timebounds.csv
      volcanic_forcing_file: volcanic_forcing_timebounds.csv
      landuse_scale_file: landuse_scale_factor.csv
      landuse_scale_label: historical_best
      lapsi_scale_file: lapsi_scale_factor.csv
      lapsi_scale_label: historical_best
      warming_baselines_file: warming_baselines.csv
      warming_baseline_label: 941
      warming_baseline_column: "temperature 2004-2023"
      ensemble_member_id: 1299
      co2_species_name: CO2
      ch4_lifetime_label: historical_best
  climate_scenarios:
    run: #all  # FaIR pathways to evaluate (use 'all' or list of SSP IDs).
      - ssp245
      - ssp370  
    definitions:
      - id: ssp119
        label: ssp119  # SSP1-1.9: strong mitigation, ~1.5°C, rapid decarbonisation
        adjustment_specie: CO2 FFI
      - id: ssp126
        label: ssp126  # SSP1-2.6: well-below 2°C, early peaking and sustained reductions
        adjustment_specie: CO2 FFI
      - id: ssp245
        label: ssp245  # SSP2-4.5: middle-of-the-road, intermediate forcing
        adjustment_specie: CO2 FFI
      - id: ssp370
        label: ssp370  # SSP3-7.0: regional rivalry, high challenges to mitigation
        adjustment_specie: CO2 FFI
      - id: ssp585
        label: ssp585  # SSP5-8.5: fossil-fuel intensive, high-end stress-test scenario
        adjustment_specie: CO2 FFI
  emission_scenarios:
    run: all  # Load from <scenario>_emission_difference.csv (Mt CO₂/yr deltas; use 'all' or list of names).

pattern_scaling:
  output_directory: results/climate_scaled
  scaling_factors_file: data/cmip6_pattern_scaling_by_country_mean.csv  # Columns: name, iso3, continent, scenario, patterns.* (weighting basis)
  scaling_weighting: area  # Options: gdp.2000, gdp.2100, pop.2000, pop.2100, area (default)
  countries:
    - ALB
    - BIH
    - MKD
    - KOS # Kosovo, unofficially assigned ISO3 code
    - SRB
    - MNE

air_pollution:
  output_directory: results/air_pollution
  concentration_measure: median  # Default concentration statistic to use when available.
  concentration_fallback_order:  # Ordered fallback when the preferred measure is missing.
    - median
    - mean
    - min
    - max
  electricity_share: 0.07  # Fraction of ambient pollution attributable to electricity generation (defaults to 0.07 from literature checks).
  country_weights: equal  # Use 'equal' for uniform averaging or provide {Country: weight}.
  scenarios: all  # 'all' or list of emission scenario names to process.
  value_of_statistical_life_usd: 3750000  # Monetised value per statistical life (USD-2025).
  pollutants:
    pm25:
      stats_file: data/air_pollution/PM25_country_stats.csv
      relative_risk: 1.08  # RR for a 10 µg/m³ change (log-linear model).
      reference_delta: 10.0  # µg/m³ associated with the relative_risk value.
      # country_weights:
      #   Bosnia and Herzegovenia: 2.0
      #   Kosovo: 1.0
    nox:
      stats_file: data/air_pollution/NOx_country_stats.csv
      relative_risk: 1.03
      reference_delta: 10.0

socioeconomics:
  mode: dice
  dice: #source: Rickels, W., Meier, F., & Quaas, M. (2023). The historical social cost of fossil and industrial CO2 emissions. Nature Climate Change 2023 13:7, 13(7), 742–747. https://doi.org/10.1038/s41558-023-01709-1
    start_year: 2019
    scenario: as_climate_scenario  # 'as_climate_scenario' mirrors the climate SSP; replace with explicit SSP tag to lock it.
    population:
      initial_population_million: 7713.47
      logistic_growth: 0.028
      asymptote_table_path: data/GDP_and_Population_data/DICE/dice_scenarios.csv
    tfp:
      initial_level_label: nordhaus
      decline_rate: 0.005
      scenario_growth_table_path: data/GDP_and_Population_data/DICE/dice_scenarios.csv
      initial_levels_table_path: data/GDP_and_Population_data/DICE/dice_tfp_initial_levels.csv
    capital:
      depreciation_rate: 0.0369791
      savings_rate: 0.223
      capital_output_ratio: 3.41
      initial_stock_trillions: null
    capital_share: 0.36507
  currency_conversion:
    ppp2017_to_usd2025: 1.28  # Source: BEA GDPDEF (https://fred.stlouisfed.org/series/GDPDEF, retrieved Nov 21, 2025)

economic_module:
  output_directory: results/economic
  gdp_series: null  # Optional override CSV with columns year,gdp_trillion_usd[,population_million]
  gdp_population_directory: data/GDP_and_Population_data
  run:
    pulse:
      pulse_size_tco2: 1.0
  data_sources:
    emission_root: results/emissions/All_countries
    temperature_root: results/climate
  reference_scenario: base_mix__base_demand
  evaluation_scenarios:
    - base_mix__scen1_lower
    - base_mix__scen1_upper
  base_year: 2025
  damage_duration_years: 450
  aggregation: per_year
  aggregation_horizon:
    start: 2025
    end: 2050
  emission_column: delta
  emission_to_tonnes: 1000000.0
  damage_function:
    delta1: 0.0
    delta2: 0.00236
    use_threshold: false
    threshold_temperature: 3.0
    threshold_scale: 0.2
    threshold_power: 2.0
    use_saturation: false
    max_fraction: 0.99
    saturation_mode: rational
    use_catastrophic: false
    catastrophic_temperature: 5.0
    disaster_fraction: 0.75
    disaster_gamma: 1.0
    disaster_mode: prob
  data_sources_overview: null
  methods:
    run: ramsey_discount
    constant_discount:
      discount_rate: 0.03
    ramsey_discount: #source: Nesje, F., Drupp, M. A., Freeman, M. C., & Groom, B. (2023). Philosophers and economists agree on climate policy paths but for different reasons. Nature Climate Change 2023 13:6, 13(6), 515–522. https://doi.org/10.1038/s41558-023-01681-w
      rho: 0.00625 #average betweeen mean philosopher and economist view
      eta: 1.125

results:
  run_directory: null  # Optional top-level results/<run> directory (combined with run.output_subdir when provided).
  summary:
    years:
      - 2030
      - 2050
    year_period: #to report air pollution mortality and damages over a period as a sum
      - start: 2025
        end: 2050
    output_directory: results/summary
    include_plots: true
    plot_format: png
