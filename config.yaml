calc_emissions:
  emission_factors_file: data/emission_factors.csv  # Columns: co2_mt_per_twh, so2_kt_per_twh, nox_kt_per_twh, pm25_kt_per_twh
  output_directory: resources
  results_directory: results/emissions  # Mirror CSVs for reporting/archival use.
  years:
    start: 2025
    end: 2100
    step: 5
  demand_scenarios:
    oecd_low:
      description: OECD low demand case (TWh).
      values:
        2025: 900
        2030: 915
        2040: 940
        2050: 965
        2060: 985
        2070: 1000
        2080: 1015
        2090: 1030
        2100: 1045
    oecd_baseline:
      description: OECD baseline demand case (TWh).
      values:
        2025: 950
        2030: 980
        2040: 1020
        2050: 1060
        2060: 1100
        2070: 1130
        2080: 1160
        2090: 1185
        2100: 1210
    oecd_high:
      description: OECD high demand case (TWh).
      values:
        2025: 1000
        2030: 1050
        2040: 1110
        2050: 1180
        2060: 1240
        2070: 1300
        2080: 1360
        2090: 1410
        2100: 1460
  mix_scenarios:
    reference:
      description: Balanced mix with gradual decarbonisation.
      shares:
        coal: 0.25
        gas: 0.30
        nuclear: 0.12
        hydro: 0.10
        wind: 0.10
        solar: 0.08
        biomass: 0.05
    renewables_push:
      description: Accelerated deployment of wind and solar.
      shares:
        coal: 0.10
        gas: 0.18
        nuclear: 0.12
        hydro: 0.12
        wind: 0.22
        solar: 0.20
        biomass: 0.06
    fossil_lockin:
      description: Slower transition away from fossil generation.
      shares:
        coal: 0.40
        gas: 0.35
        nuclear: 0.07
        hydro: 0.08
        wind: 0.05
        solar: 0.03
        biomass: 0.02
  baseline:
    demand_scenario: oecd_baseline
    mix_scenario: reference
  scenarios:
    - name: energy_mix_A
      demand_scenario: oecd_high
      mix_scenario: renewables_push
    - name: energy_mix_B
      demand_scenario: oecd_low
      mix_scenario: fossil_lockin
    - name: custom_example
      demand_custom:
        2025: 960
        2030: 990
        2040: 1050
        2050: 1100
        2060: 1140
        2070: 1180
        2080: 1210
        2090: 1240
        2100: 1270
      mix_custom:
        shares:
          coal: 0.15
          gas: 0.25
          nuclear: 0.15
          hydro: 0.12
          wind: 0.15
          solar: 0.12
          biomass: 0.06

climate_module:
  output_directory: results/climate  # Directory for climate results (relative to repository root).
  resource_directory: resources/climate  # Copy of temperature outputs used as shared resources across modules.
  sample_years_option: default  # 'default' (5-year steps to 2050, then 10-year) or 'full'.
  emission_timeseries_directory: resources  # Folder containing <scenario>_emission_difference.csv (Mt CO₂/yr; negative reduces emissions).

  parameters:
    start_year: 1750  # Simulation time grid (extend end_year for far-future projections).
    end_year: 2100
    timestep: 1.0  # Years per step; 1.0 = annual, 0.25 = quarterly (slower runtime).

    climate_setup: ar6  # Options include 'ar6' (default three-layer) and 'two_box'.
    deep_ocean_efficacy: 1.28  # Plausible range 0.5–1.5 (higher slows deep-ocean uptake).
    forcing_4co2: 7.4  # W/m² for 4×CO₂; AR6 central estimate ≈7.2–7.4.
    equilibrium_climate_sensitivity: 3.0  # °C per CO₂ doubling; likely range 2.0–5.0.

  climate_scenarios:
    run: all  # FaIR pathways to evaluate (use 'all' or list of SSP IDs).
    definitions:
      - id: ssp119  # Strong mitigation SSP (aggressive climate action)
        label: ssp119
        adjustment_specie: CO2 FFI  # Emission adjustments are specified in Mt CO₂/yr.
      - id: ssp245  # Middle-of-the-road SSP (reference case)
        label: ssp245
        adjustment_specie: CO2 FFI
      - id: ssp370  # Higher-emission SSP (limited mitigation)
        label: ssp370
        adjustment_specie: CO2 FFI

  emission_scenarios:
    run: all  # Load from <scenario>_emission_difference.csv (Mt CO₂/yr deltas; use 'all' or list of names).

pattern_scaling:
  output_directory: results/climate_scaled
  scaling_factors_file: data/cmip6_pattern_scaling_by_country_mean.csv  # Columns: name, iso3, continent, scenario, patterns.* (weighting basis)
  scaling_weighting: area  # Options: gdp.2000, gdp.2100, pop.2000, pop.2100, area (default)
  countries: # List of ISO3 codes
    - ALB
    - BIH
    - MKD
    - KOS # Kosovo, unofficially assigned ISO3 code
    - SRB
    - MNE

air_pollution:
  output_directory: results/air_pollution
  concentration_measure: median  # Default concentration statistic to use when available.
  concentration_fallback_order:  # Ordered fallback when the preferred measure is missing.
    - median
    - mean
    - min
    - max
  scenarios: all  # 'all' or list of emission scenario names to process.
  pollutants:
    pm25:
      stats_file: data/air_pollution/PM25_country_stats.csv
      relative_risk: 1.08  # RR for a 10 µg/m³ change (log-linear model).
      reference_delta: 10.0  # µg/m³ associated with the relative_risk value.
    nox:
      stats_file: data/air_pollution/NOx_country_stats.csv
      relative_risk: 1.03
      reference_delta: 10.0
    
economic_module:
  output_directory: results/economic  # Folder receiving SCC summary, detail, and per-year CSVs.
  gdp_series: null  # Optional override CSV with columns: year, gdp_trillion_usd [, population_million].
  gdp_population_directory: data/GDP_and_Population_data  # Prefers long CSVs (SSP_gdp_long_2020ppp.csv, SSP_population_long.csv); falls back to Excel.
  temperature_series:  # Absolute/anomaly °C per scenario; keys must match emission_series (use climate-module outputs).
    baseline: resources/climate/energy_mix_B_ssp245.csv
    policy: resources/climate/energy_mix_A_ssp245.csv
  emission_series:  # Annual CO₂ deltas per scenario (use resources/<scenario>/co2.csv with 'delta' column).
    baseline: resources/energy_mix_B/co2.csv
    policy: resources/energy_mix_A/co2.csv
  reference_scenario: baseline  # Baseline label for damage differences.
  evaluation_scenarios:  # Additional scenarios evaluated by default.
    - policy
  base_year: 2025  # Present-value reference year for discounting (must exist in GDP/temperature grids).
  aggregation: average  # 'average' (USD/tCO₂) or 'per_year' (time series).
  emission_column: delta  # Column name in emission CSVs (FaIR export uses 'delta' for Mt CO₂/yr deltas).
  emission_to_tonnes: 1000000.0  # Unit converter for emission_column (1e6 converts Mt → tonnes CO₂).
  damage_function:  # DICE-style quadratic damages configuration.
    delta1: 0.0
    delta2: 0.002
    use_threshold: false  # true to amplify damages past the threshold temperature.
    threshold_temperature: 3.0  # °C at which threshold amplification starts.
    threshold_scale: 0.2  # Multiplier applied to exceedance when threshold is enabled.
    threshold_power: 2.0  # Power applied to the exceedance term.
    use_saturation: false  # true to use a smooth rational saturation curve.
    max_fraction: 0.99  # Maximum GDP loss fraction (also used for final clamp).
    saturation_mode: rational  # 'rational' or 'clamp' when saturation is enabled.
    use_catastrophic: false  # true to add catastrophe risk beyond catastrophic_temperature.
    catastrophic_temperature: 5.0  # °C at which catastrophe risk begins.
    disaster_fraction: 0.75  # Fractional GDP loss when catastrophe occurs.
    disaster_gamma: 1.0  # Steepness of probabilistic catastrophe response.
    disaster_mode: prob  # 'prob' (exponential) or 'step' catastrophe behaviour.
  methods:  # Discounting configurations ('all' runs both methods).
    run: ramsey_discount
    constant_discount:  # Fixed annual discount rate r; SCC uses 1/(1+r)^{t-base_year}.
      discount_rate: 0.03
    ramsey_discount:  # Ramsey: rho = pure time preference, eta = utility elasticity.
      rho: 0.005
      eta: 1.0
